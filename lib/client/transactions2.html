<template name="transactions">
	{{>transactionsTable}}
	<div class="row">
		<div class="col-md-12">
			 <div class="panel panel-default">
			 	<div class="panel-heading" style="position:relative">
			 		<h3 class="panel-title">Transactions</h3>
        </div>
				<div class="panel-body">
					<ul>
					{{#each planningEntries}}
						<li>
						<strong>{{name}} / {{date}}</strong>
						{{>operations}}
						</li>
					{{/each}}
					</ul>
        </div>
    	</div>
		</div>
	</div>
</template>

<template name="transactionsTable">
	<div class="row">
		<div class="col-md-12">
			 <div class="panel panel-default">
				<div class="panel-heading" style="position:relative">
					<h3 class="panel-title">Transactions (table view)</h3>
				</div>
				<div class="panel-body">
					<table class="table">
						<thead>
							<tr><th>Date</th><th>Name</th><th>Qty</th><th>Note</th></tr>
						</thead>
						<tbody>
							{{#each transactionsData}}
								{{>transactionRow}}
							{{/each}}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="transactionRow">
	<tr><td>{{date}}</td><td>{{name}}</td><td>{{qty}}</td><td>{{note}}</td></tr>
</template>


<template name="operations">
	{{#if operations.length}}
		<p>Operations for product : {{name}}</p>
		<ul>
			{{#each operations}}
					<li>{{>operation}}</li>
			{{/each}}
		</ul>
	{{else}}
		<small>This product has no operation needed</small>
	{{/if}}
</template>

<template name="operation">
	<p>Operation needs for operation :  {{name}}</p>
	<ul>
		{{#each needs}}
			<li>
				<p>Product name : {{name}} / Needed quantity : {{qty}}</p>
				{{>operations}}
			</li>
		{{/each}}
	</ul>
</template>
